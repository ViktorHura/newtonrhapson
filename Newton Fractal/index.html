<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Newton Fractal</title>
    <style type="text/css">
      #canvas {
        border: 1px solid #000000;
        position: absolute;
        left: 1vw;
        top: 1vw;
      }
      #form {
        border: 1px solid #000000;
        padding: 5px;
        position: absolute;
        right: 1vw;
        top: 1vw;
      }
      #results {
        border: 1px solid #000000;
        padding: 5px;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas" width="500" height="500"></canvas>

    <div id="form">
      <form action="javascript:draw();">
        Complexe functie:<br>
        <textarea id="f" rows="4" cols="30">z^3-1</textarea>
        <br>
        <span id="problem"></span>
        <br>
        Afgeleide functie:<br>

        <span id="problem2"></span>
        <br>

        <br>
        Max aantal iteraties per pixel:<br>
        <input type="text" id="maxr" value="30"><br>
        <br><br>

        <input type="button" onclick="algorithm()" value="Teken">
        <input type="Reset" onclick="cleardraw()"><br>
      </form>


    </div>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.min.js"></script>

    <script>

      setInterval(function () {
        var MQ = MathQuill.getInterface(2);
        var problemSpan = document.getElementById('problem');
        problemSpan.innerHTML = "f(z) =" + document.getElementById("f").value;
        MQ.StaticMath(problemSpan);
        var problemSpan2 = document.getElementById('problem2');
        problemSpan2.innerHTML = "Df(z) =" + math.simplify(math.derivative(math.parse("f(z)=" + document.getElementById("f").value), 'z')).toString();
        MQ.StaticMath(problemSpan2);

      }, 1);
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/5.4.1/math.min.js"></script>
    <script src="complex.min.js"></script>
    <script src="main.js" type="text/javascript"></script>

  </body>
</html>
